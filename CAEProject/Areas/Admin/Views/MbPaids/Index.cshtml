@using CAEProject.Models
@model IEnumerable<CAEProject.Models.MbPaid>

@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
    int id = 0;
    id = ViewBag.PaId;
    IEnumerable<MbPoints> mbPoints = ViewBag.MbPoint;

}

<h2>會員中心</h2>
<div class="form-horizontal">
    <h4>會員管理</h4>
    <hr />
</div>
<!--tab nav start-->
<section class="panel">
    <header class="panel-heading tab-bg-primary ">
        <ul class="nav nav-tabs" id="myTab">
            <li class="active">
                <a data-toggle="tab" href="#home">付費紀錄</a>
            </li>
            <li class="">
                <a data-toggle="tab" href="#about">點數使用紀錄</a>
            </li>
            <li class="">
                <a data-toggle="tab" href="#profile">預約紀錄</a>
            </li>
        </ul>
    </header>
    <div class="panel-body">
        <div class="tab-content">

            <!--需求內容-->
            <div id="home" class="tab-pane active">
                <table class="table table-striped table-advance table-hover">
                    <tr>
                        <th>
                            @Html.DisplayNameFor(model => model.Member.Account)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Paid)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.AddPoints)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.PaidDateTime)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.DateTime)
                        </th>
                    </tr>

                    @foreach (var item in Model.Where(x => x.Id == id))
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.Member.Account)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Paid)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.AddPoints)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.PaidDateTime)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.DateTime)
                            </td>
                        </tr>
                    }
                </table>
            </div>

            <!--回覆紀錄-->
            <div id="about" class="tab-pane">
                <table class="table table-striped table-advance table-hover">
                    <tr>
                        <th>
                            使用日期
                        </th>
                        <th>
                            使用時間(小時)
                        </th>
                        <th>
                            使用點數
                        </th>
                    </tr>
                    @if (mbPoints != null)
                    {
                        foreach (var item in mbPoints)
                        {
                            <tr>
                                <td>
                                    @item.UseDateTime
                                </td>
                                <td>
                                    @item.UseOfHour
                                </td>
                                <td>
                                    @item.UsePoints
                                </td>
                                <td>
                                    @item.Points
                                </td>
                            </tr>
                        }
                    }
                </table>
            </div>

            <!--需求回覆-->
            <div id="profile" class="tab-pane">
                <!--需求回覆Start-->
                <!--需求回覆End-->
            </div>
        </div>
    </div>
</section>
<div>
    <a href="@Url.Action("Index","Members",new {area="admin"})" style="margin: 0 0 0 5px" class="btn btn-danger"><span class="icon_house_alt"></span> 返回</a>
</div>